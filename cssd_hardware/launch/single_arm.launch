
<launch>
   
  <arg name="arm_ns"              default="/" />
  <arg name="robot_ip"            default="172.16.17.2"/>
  <arg name="arm_type"            default="ur10e"/>
  <arg name="dispenser_name"      default="ur10e_001"/>

  <include file="$(find ur_modern_driver)/launch/$(arg arm_type)_bringup.launch">
  	<arg name="robot_ip" value="$(arg robot_ip)"/>
  </include>

  <!-- Remapping of realsense image topics, some 'weird restrictions' need place this remap before spawning rs.launch -->
  <remap from="$(arg arm_ns)/color/camera_info" to="$(arg arm_ns)/camera_info"/>
  <remap from="$(arg arm_ns)/color/image_raw/compressed" to="$(arg arm_ns)/image/compressed"/>

  <include file="$(find realsense2_camera)/launch/rs_camera.launch">
  	<arg name="filters"             value="pointcloud"/>
    <arg name="camera"              value="/"/>
    <arg name="enable_gyro"         default="false"/>
    <arg name="enable_accel"        default="false"/>
    <arg name="publish_tf"          default="false"/>
    <arg name="enable_depth"        default="true"/>
    <arg name="enable_infra1"       default="false"/>
    <arg name="enable_infra2"       default="false"/>
  </include>

  <include file="$(find robot_arm_workcell_manager)/launch/robot_arm_workcell_manager.launch">
  	<arg name="dispenser_name"   value="$(arg dispenser_name)"/>
    <arg name="arm_ns"           value="$(arg arm_ns)"/>
  </include>

  <include file="$(find robot_arm_workcell_manager)/launch/demo.launch">
  	<arg name="arm_type"                      value="$(arg arm_type)"/>
    <arg name="sim"                           value="false"/>
    <arg name="enable_fake_joints_execution"  value="false"/>
  </include>
	
  <node pkg="tf" type="static_transform_publisher" name="eef_to_camera_optical" 
    args="0.032 0.037 0.095 0 0 0 ee_link camera_link_optical 10" />

</launch>
